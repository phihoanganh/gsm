
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	<h:form id="myMenu">
		<div id="mainMenu">

			<div style="width: 900px; margin: auto">
				<c:if test="#{!empty sessionScope['Employee']}">
					<ul>
						<li><h:commandLink action="#{linkDAO.acLinkIndex}"
								value="#{utilInitLang.home}" />
						</li>
						<c:if test="#{loginUS.emp.accountant == 1}">
							<li id="accountant"><a href="#">#{utilInitLang.ac_accountant}</a>
							</li>
						</c:if>
						<c:if test="#{loginUS.accessright != 1}">
							<li id="approve"><h:commandLink
									action="#{linkDAO.acLinkApproveMain}"
									value="#{utilInitLang.ac_approved}" /></li>
						</c:if>
						<c:if test="#{loginUS.accessright == 1}">
							<li><h:commandLink action="#{linkDAO.acLinkManager}"
									onclick="logoutMenu()"
									value="#{utilInitLang.ac_ManagerCompany}" />
							</li>
						</c:if>
						<c:if test="#{loginUS.accessright == 1}">
							<li id="employee"><a href="#">#{utilInitLang.ac_EmployeeManagement}</a>
							</li>
						</c:if>
						<c:if test="#{loginUS.accessright != 1}">
							<li id="logistic"><a href="#">#{utilInitLang.ac_Logictics}</a>
							</li>
						</c:if>
						<c:if test="#{loginUS.accessright == 1}">
							<li id="admin"><a href="#">#{utilInitLang.ac_du_admin}</a>
							</li>
						</c:if>
						<c:if test="#{!empty sessionScope['Employee']}">
							<li id="profile"><a href="#">#{utilInitLang.profile}</a>
							</li>
						</c:if>
					</ul>
				</c:if>
				<div style="padding: 6px 0px 0px 30px; color: white; float: right">
					<h:selectOneMenu id="cb_Language_S" onchange="this.form.submit()"
						value="#{languageBean.nngu}" style="width:85px">
						<a4j:ajax execute="@form" event="change"
							listener="#{languageBean.change}" />
						<f:selectItems value="#{languageBean.loadAllLanguage}" />
					</h:selectOneMenu>
				</div>
				<c:if test="#{!empty sessionScope['Employee']}">
					<div style="padding: 8px 0px 0px 30px; color: white; float: right">
						<h:outputText rendered="#{!empty sessionScope['Employee']}"
							value="#{utilInitLang.ac_Welcome } : #{sessionScope['Employee'].userName}" />
						-
						<h:commandLink rendered="#{!empty sessionScope['Employee']}"
							onclick="logoutMenu()" value="#{utilInitLang.logout }"
							style="color:white" action="#{loginUS.logout}" />
					</div>
				</c:if>
			</div>
		</div>
		<div id="subMenu">
			<div id="acc">
				<h:commandLink action="#{linkDAO.acLinkSearchSalse}"
					value="#{utilInitLang.ac_SearchSalse}" />
				|
				<h:commandLink action="#{linkDAO.acLinkSearchPurchase}"
					value="#{utilInitLang.ac_SearchPurchase}" />
				|
				<h:commandLink action="#{linkDAO.acLinkOrdersSalse}"
					value="#{utilInitLang.ac_OrderSalse}" />
				|
				<h:commandLink action="#{linkDAO.acLinkOrdersPurchase}"
					value="#{utilInitLang.ac_OrderPurchase}" />
				|
				<h:commandLink action="#{linkDAO.acLinkCustomer}"
					value="#{utilInitLang.ac_lien_SKhachHang}" />
			</div>
			<div id="emp">
				<h:commandLink action="#{linkDAO.acLinkManagerEmp}"
					value="#{utilInitLang.ac_Employees}" />
				|
				<h:commandLink action="#{linkDAO.acLinkDepart}"
					value="#{utilInitLang.ac_Deparments}" />
				|
				<h:commandLink action="#{linkDAO.acLinkDetailsEmp}"
					value="#{utilInitLang.ac_ma_CreateNewAccount}" />
			</div>
			<div id="log">
				<h:commandLink action="#{linkDAO.acLinkInputStore}"
					value="#{utilInitLang.st_import}" />
				|
				<h:commandLink action="#{linkDAO.acLinkExportStore}"
					value="#{utilInitLang.st_export}" />
				|
				<h:commandLink action="#{linkDAO.acLinkInventory}"
					value="#{utilInitLang.st_title_Inventory}" />
				|
				<h:commandLink action="#{linkDAO.acLinkPeriodicInventory}"
					value="#{utilInitLang.st_PeriodicInventory}" />
			</div>
			<div id="ad">
				<h:commandLink action="#{linkDAO.acLinkAddLanguage}"
					value="#{utilInitLang.ac_title_addlang}" />
				|
				<h:commandLink action="#{linkDAO.acLinkLanguage}"
					value="#{utilInitLang.ac_du_editLanguage}" />
				|
				<h:commandLink action="#{linkDAO.acLinkTax}"
					value="#{utilInitLang.ac_title_tax}" />
				|
				<h:commandLink action="#{linkDAO.acLinkUnit}"
					value="#{utilInitLang.ac_title_unit}" />
				|
				<h:commandLink action="#{linkDAO.acLinkAccountStatus}"
					value="#{utilInitLang.ac_title_accountstatus}" />
				|
				<h:commandLink action="#{linkDAO.acLinkTransactionType}"
					value="#{utilInitLang.ac_title_transactiontype}" />
				|
				<h:commandLink action="#{linkDAO.acLinkPaymentMethod}"
					value="#{utilInitLang.ac_title_paymentmethod}" />
				|
				<h:commandLink action="#{linkDAO.acLinkChangeLogo}"
					value="#{utilInitLang.ac_title_changelogo}" />
			</div>
			<div id="pro">
				<a4j:commandLink value="#{utilInitLang.viewprofile}" execute="@this"
					oncomplete="#{rich:component('editPane')}.show()" render="profile" />
				|
				<a4j:commandLink value="#{utilInitLang.changePassword}"
					execute="@this" oncomplete="#{rich:component('editPass')}.show()"
					render="profile" />
			</div>
		</div>
	</h:form>
	<h:form id="frmLeftMenuLoginBefore">
		<rich:popupPanel id="editPane" domElementAttachment="form"
			autosized="true">
			<f:facet name="header">
				<h:outputText value="Profile" />
			</f:facet>
			<h:panelGroup layout="block" styleClass="scrolls">
				<h:panelGrid columns="2" id="editGrid">
					<f:facet name="header">
						<h:graphicImage alt="profile" width="80px"
							value="/images/profile.jpg"></h:graphicImage>
						<br />
					</f:facet>

					<h:outputText value="#{utilInitLang.fullName }" />
					<h:inputText style="width:200px" value="#{loginUS.emp.fullName}" />

					<h:outputText value="#{utilInitLang.ac_an_OPhone }" />
					<h:inputText style="width:200px" value="#{loginUS.emp.phone}" />

					<h:outputText value="#{utilInitLang.mail }" />
					<h:inputText style="width:200px" value="#{loginUS.emp.email}" />

					<h:outputText value="#{utilInitLang.ac_ma_Address }" />
					<h:inputText style="width:200px" value="#{loginUS.emp.address}" />

					<h:outputText value="#{utilInitLang.ac_ngaysinh }" />
					<h:panelGroup>
						<rich:calendar value="#{loginUS.emp.birthday}"
							datePattern="yyyy-MM-dd" id="calendar" required="true"
							requiredMessage="#{utilInitLang.ac_tb_DataNotBlank }">
						</rich:calendar>
					</h:panelGroup>

					<h:outputText />
					<rich:message for="calendar" ajaxRendered="true" id="mess"
						styleClass="errors" />

					<h:outputText />
					<h:panelGroup>
						<a4j:commandButton value="#{utilInitLang.ac_ma_Update}"
							action="#{loginUS.updateDetail}" execute="editPane" render="mess"
							oncomplete="if (#{facesContext.maximumSeverity==null}) {#{rich:component('editPane')}.hide();}" />
						<a4j:commandButton value="#{utilInitLang.ac_Cancel}"
							onclick="#{rich:component('editPane')}.hide(); return false;" />
					</h:panelGroup>
				</h:panelGrid>
			</h:panelGroup>
		</rich:popupPanel>
	</h:form>
	<h:form id="frmPass">
		<rich:popupPanel id="editPass" domElementAttachment="form"
			autosized="true">
			<f:facet name="header">
				<h:outputText value="#{utilInitLang.changePassword}" />
			</f:facet>
			<h:panelGroup layout="block" styleClass="scrolls">
				<h:panelGrid columns="4" id="editGridPass">
					<f:facet name="header">
						<h:graphicImage alt="profile" width="80px"
							value="/images/icon_member_resend_pass.gif"></h:graphicImage>
						<br />
					</f:facet>

					<h:outputText value="Old Password" />
					<h:inputSecret style="width:200px" value="#{changeBean.oldPass}"
						requiredMessage="*" id="oldps" required="true" />
					<rich:message for="oldps" ajaxRendered="true" id="messOld"
						styleClass="errors" />
					<h:panelGroup />

					<h:outputText value="New Password" />
					<h:inputSecret style="width:200px" value="#{changeBean.newPass}"
						id="newps" requiredMessage="*" required="true" />
					<rich:message for="newps" ajaxRendered="true" id="messNew"
						styleClass="errors" />
					<h:panelGroup />

					<h:outputText value="Re-type Password" />
					<h:inputSecret style="width:200px" value="#{changeBean.rePass}"
						id="reps" requiredMessage="*" required="true" />
					<rich:message for="reps" ajaxRendered="true" id="messRe"
						styleClass="errors" />
					<h:panelGroup />

					<rich:message for="frmPass" id="messForm" styleClass="errors" />
					<h:outputText value="" />
					<h:outputText value="" />
					<h:panelGroup />

					<h:outputText value="" />
					<h:panelGroup>
						<a4j:commandButton value="#{utilInitLang.ac_ma_Update}"
							action="#{changeBean.changePass}" execute="editPass"
							render="messOld,messNew,messRe"
							oncomplete="if (#{facesContext.maximumSeverity==null}) {#{rich:component('editPass')}.hide();}" />
						<a4j:commandButton value="#{utilInitLang.ac_Cancel}"
							onclick="#{rich:component('editPass')}.hide(); return false;" />
					</h:panelGroup>
					<h:outputText value="" />
					<h:panelGroup />
				</h:panelGrid>
			</h:panelGroup>
		</rich:popupPanel>
	</h:form>
	<rich:popupPanel id="loginPopup" modal="true" resizeable="true"
		width="300" height="188"
		onmaskclick="#{rich:component('loginPopup')}.hide()">
		<f:facet name="header">
			<h:outputText value="#{utilInitLang.infoSys}" />
		</f:facet>
		<f:facet name="controls">
			<h:outputLink value="#" style="font-size:16px;"
				onclick="#{rich:component('loginPopup')}.hide(); return false;">
                    X
                </h:outputLink>
		</f:facet>
		<h:form>
			<div id="wrappertop"></div>
			<div id="wrapper">
				<div id="content">

					<fieldset class="form">
						<p>
							<label for="txtUserName" style="width: 50px;"><h:outputText
									value="#{utilInitLang.ac_CompanyName}" /> </label>
							<h:inputText id="txtUserName" styleClass="input"
								value="#{accessBean.username}" />

						</p>
						<p>
							<label for="txtPassword"><h:outputText
									value="#{utilInitLang.ac_ma_Password}" /> </label>
							<h:inputSecret id="txtPassword" styleClass="input"
								style="margin-left:30px;" value="#{accessBean.pass}" />

						</p>
						<div style="position: relative;">
							<div style="float: left; text-align: right; margin-left: 50px;">
								<h:commandButton value="Login"
									image="resources/css/Images/btnLogin.png"
									action="#{accessBean.checkLogin}" />
							</div>
							<div style="float: left;">
								<h:commandButton value="Reset"
									image="resources/css/Images/btnClear.png" />
							</div>
						</div>
						<h:outputText value="#{accessBean.mesuser}"
							rendered="#{accessBean.flag}" styleClass="error" />
						<h:outputText value="#{accessBean.mespass}"
							rendered="#{accessBean.flg}" styleClass="error" />
					</fieldset>
				</div>
			</div>
		</h:form>
	</rich:popupPanel>
</ui:composition>